<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>vim 技巧</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="title" content="vim 技巧"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2015-09-02T22:14+0800"/>
<meta name="author" content=""/>
<meta name="description" content="侯爷的博客|记录和分享"/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="/css/worg.css" /> <link rel="shortcut icon" href="/images/favicon.ico"/>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-41177027-1', 'auto');
ga('send', 'pageview');
</script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>
<div id="org-div-home-and-up" style="text-align:right;font-size:100%;white-space:nowrap;">
 <a accesskey="H" href="http://houye.xyz"> HOME </a>
</div>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">vim 技巧</h1>


<p>
<i>下文中会有不少知识的罗列，你只需要大致看一眼就可以，需要用到再细细看</i> 
</p>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">预备篇</a>
<ul>
<li><a href="#sec-1-1">零</a></li>
<li><a href="#sec-1-2">零之贰</a></li>
<li><a href="#sec-1-3">壹</a></li>
<li><a href="#sec-1-4">贰</a></li>
<li><a href="#sec-1-5">叄</a></li>
<li><a href="#sec-1-6">肆</a></li>
<li><a href="#sec-1-7">伍</a></li>
<li><a href="#sec-1-8">陆</a></li>
<li><a href="#sec-1-9">柒</a></li>
</ul>
</li>
<li><a href="#sec-2">常用命令</a>
<ul>
<li><a href="#sec-2-1">替换命令</a></li>
<li><a href="#sec-2-2">拷贝，删除和粘贴</a></li>
<li><a href="#sec-2-3">数字和命令</a></li>
<li><a href="#sec-2-4">分割窗口</a></li>
<li><a href="#sec-2-5">移动与定位操作</a></li>
<li><a href="#sec-2-6">大小写的切换</a></li>
<li><a href="#sec-2-7">寄存器</a>
<ul>
<li><a href="#sec-2-7-1">寄存器分类</a></li>
<li><a href="#sec-2-7-2">基本操作（一般模式下）</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1">预备篇</h2>
<div class="outline-text-2" id="text-1">

<p>首先转一篇以前在百度linux吧（作者8pm)看的，算是教程吧，可以从中体会到大体学习的思路
</p>


</div>

<div id="outline-container-1-1" class="outline-3">
<h3 id="sec-1-1">零</h3>
<div class="outline-text-3" id="text-1-1">

<p>学会盲打   
</p>
</div>

</div>

<div id="outline-container-1-2" class="outline-3">
<h3 id="sec-1-2">零之贰</h3>
<div class="outline-text-3" id="text-1-2">

<p>将我这贴复制保存起来，以备后用，贴吧东西难保存   
</p>
</div>

</div>

<div id="outline-container-1-3" class="outline-3">
<h3 id="sec-1-3">壹</h3>
<div class="outline-text-3" id="text-1-3">

<p>配置文件先从最简开始，在伍级前别考虑配置插件，千万别硬背命令，千万别直接取用别人的配置文件    <br/>
基本还是长时间待在 insert mode下，会觉得vim也不过尔尔，也不好用，   <br/>
这个时候，编辑效率可能比用原来的一般编辑器还低，别人问使用什麼编辑器时，   <br/>
多半会回答：vim 再配一个 nano, kate, kwrite, gedit, geany 或其他 IDE 之类的    <br/>
</p>
</div>

</div>

<div id="outline-container-1-4" class="outline-3">
<h3 id="sec-1-4">贰</h3>
<div class="outline-text-3" id="text-1-4">

<p>养成习惯待在 normal mode（normal 不是白叫的），只有输入时才进入 insert mode，输入完马上 &lt;ESC&gt;  <br/>
学习 normal mode 下的移动命令，这个时候输入文字标准流程：   <br/>
</p><ol>
<li>normal mode 移动命令准确定位光标（记住，搜索命令也是移动命令）   <br/>
</li>
<li>进入 insert mode 编辑（进入 insert mode 别只用 i，要习惯视乎情况，使用 I a A o O s C）  <br/>
</li>
<li>&lt;ESC&gt; 返回 normal mode   <br/>
</li>
</ol>

<p>这个时候，编辑效应会恢复到和你之前用的普通编辑器一样，甚至有少量提高   <br/>
</p>
</div>

</div>

<div id="outline-container-1-5" class="outline-3">
<h3 id="sec-1-5">叄</h3>
<div class="outline-text-3" id="text-1-5">

<p>学习什麼是 operator（命令 d y c 等），什麼是 motion（所有能移动光标的命令，h j k l w e f t / ? 等等）     <br/>
学习 operator + motion 的方式，如 ct. （将当前光标到 . (点) 之间的内容删除并进入 insert mode 准备修改） <br/>
学习基础的 Ex 命令，:s 什麼的    <br/>
</p>
<p>
这个时候，编辑效率开始明显提高，在用其他一般编辑器时，会开始觉得不习惯和低效率   <br/>
</p>
</div>

</div>

<div id="outline-container-1-6" class="outline-3">
<h3 id="sec-1-6">肆</h3>
<div class="outline-text-3" id="text-1-6">

<p>学习 text-objects，知道 operator + text-objects 的方法，可进行手术般精准的定位和修改，  <br/>
既然你主要用在 c/c++，举一些在这个情况下有用的例子：   <br/>
</p>
<p>
ci"（由 change operator 和 text-object i" 组成） <br/>
这个命令会找到当前光标所在行的下一个 " 括起来的字符串，清除引号裏面的内容，并进入 insert mode 以方便修改   <br/>
用起来比解释起来简单，你可用 const char* hello = "Hello world."; 类似这样的代码来测试   <br/>
</p>

<p>
yaB （由 yank operator 和 text-object aB 组成）   <br/>
这个命令会将当前光标所在的代码块（{} 括起来的内容，包括花括号本身）复制到默认 register，   <br/>
方便在其他地方用 p 贴出来（当然，写代码不鼓励 copy and paste），你可用用任何一个 {} 来测试，然后找另外地方p  <br/>
gUiw （由 make uppercase operator 和 text-object iw 组成）   <br/>
这个命令会将当前光标所在的 word 全部变成大写   <br/>
如将 max<sub>size</sub> 变成 MAX<sub>SIZE</sub>   　<br/>
这个时候，开始知道为什麼 vim 精确高效，而且并不是因为全键盘无需鼠标   <br/>
</p>
</div>

</div>

<div id="outline-container-1-7" class="outline-3">
<h3 id="sec-1-7">伍</h3>
<div class="outline-text-3" id="text-1-7">

<p>习惯 operator + motion 后，发现 . 命令很好用，多注意使用可重复的命令组合   <br/>
练习使用书签定位，q 记录宏，使用多个 register，使用 args，使用 buffer   <br/>
使用其他的 Ex 命令    <br/>
这个时候，想不起没用 vim 之前的日子是怎麼过来的   <br/>
</p>
</div>

</div>

<div id="outline-container-1-8" class="outline-3">
<h3 id="sec-1-8">陆</h3>
<div class="outline-text-3" id="text-1-8">

<p>开始 map 经常反覆使用的命令，开始写 vimscript，开始知道自己需要什麼样的插件   <br/>
试推荐几个：   <br/>
pathogen 或 vundle，tagbar, CtrlP, Gundo, UltiSnips，surround，Syntastic，<br/>
Conque，ack.vim，vim-commentary，fugitive（如果是 git 用户）   <br/>
还有不少，但多对 c/c++ 没直接帮助，就不提了   <br/>
这个时候，对其他编辑器提不起兴趣，或许 emacs 除外   <br/>
</p>
</div>

</div>

<div id="outline-container-1-9" class="outline-3">
<h3 id="sec-1-9">柒</h3>
<div class="outline-text-3" id="text-1-9">

<p>拥有完全个人化的 vimrc，基本进入化境，成为江湖上的传说   <br/>
常有旁人观察你编辑后，激起雄心壮志想要学 vim，尝试几个小时候因为觉得热键太不"人性化”而放弃，   <br/>
但偶尔会向人提起他见过江湖上有你这麼一号人物   <br/>
</p>

</div>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2">常用命令</h2>
<div class="outline-text-2" id="text-2">



</div>

<div id="outline-container-2-1" class="outline-3">
<h3 id="sec-2-1">替换命令</h3>
<div class="outline-text-3" id="text-2-1">

<p><img src="http://houye.xyz/images/vim-note.png"  alt="http://houye.xyz/images/vim-note.png" />
</p></div>

</div>

<div id="outline-container-2-2" class="outline-3">
<h3 id="sec-2-2">拷贝，删除和粘贴</h3>
<div class="outline-text-3" id="text-2-2">

<p>在 vi 中 y 表示拷贝, d 表示删除, p 表示粘贴. 其中拷贝与删除是与光标移动命令结合的, 看几个例子就能够明白了  <br/>
</p><ul>
<li>yw 表示拷贝从当前光标到光标所在单词结尾的内容. 
</li>
<li>dw 表示删除从当前光标到光标所在单词结尾的内容.
</li>
<li>y0 表示拷贝从当前光标到光标所在行首的内容.
</li>
<li>d0 表示删除从当前光标到光标所在行首的内容.
</li>
<li>y$ 表示拷贝从当前光标到光标所在行尾的内容.
</li>
<li>d$ 表示删除从当前光标到光标所在行尾的内容.
</li>
<li>yfa 表示拷贝从当前光标到光标后面的第一个a字符之间的内容.
</li>
<li>dfa 表示删除从当前光标到光标后面的第一个a字符之间的内容.
</li>
<li>yy 表示拷贝光标所在行.
</li>
<li>dd 表示删除光标所在行.
</li>
<li>D 表示删除从当前光标到光标所在行尾的内容.
</li>
</ul>

<p>关于拷贝, 删除和粘贴的复杂用法与寄存器有关, 可以自行查询.
</p>
</div>

</div>

<div id="outline-container-2-3" class="outline-3">
<h3 id="sec-2-3">数字和命令</h3>
<div class="outline-text-3" id="text-2-3">

<p>在 vi 中数字与命令结合往往表示重复进行此命令, 若在扩展模式的开头出现则表示行号定位. 如: <br/>
</p><ul>
<li>5fx 表示查找光标后第 5 个 x 字符.
</li>
<li>5Fx 表示查找光标前第五个x字符
</li>
<li>5w(e) 移动光标到下五个单词.
</li>
<li>5yy 表示拷贝光标以下 5 行.
</li>
<li>5dd 表示删除光标以下 5 行.
</li>
<li>y2fa 表示拷贝从当前光标到光标后面的第二个a字符之间的内容.
</li>
<li>:12,24y 表示拷贝第12行到第24行之间的内容.
</li>
<li>:12,y 表示拷贝第12行到光标所在行之间的内容.
</li>
<li>:,24y 表示拷贝光标所在行到第24行之间的内容. 删除类似.
</li>
</ul>


</div>

</div>

<div id="outline-container-2-4" class="outline-3">
<h3 id="sec-2-4">分割窗口</h3>
<div class="outline-text-3" id="text-2-4">

<p>使用split或vsplit
：5sp makefile &ndash;横向分割窗口，新窗口占用5行  <br/>
:10vsp makefile &ndash;纵向分割窗口，新窗口占10列  <br/>
分割窗口的大小调整:  <br/>
</p><ul>
<li>横向分割的窗口，调整窗口的高度：`n Ctrl+w + or -`n为增加或减少的行数，＋增加，－减少。不加n每次增减一行。 <br/>
</li>
<li>纵向分割的窗口，调整窗口的宽度：`n Ctrl+w &gt; or &lt;`n为增加或减少的列数，&gt;增加，&lt;减少。 不加n每次增减一列。  <br/>
</li>
</ul>


<p>
CTRL-W w 命令可以用于在窗口间跳转。 <br/>
由于你可以用垂直分割和水平分割命令打开任意多的窗口，你就几乎能够任意设置窗口的布局。接着，你可以用下面的命令在窗口之间跳转：<br/>
</p>
<ul>
<li>CTRL-W h 跳转到左边的窗口
</li>
<li>CTRL-W j 跳转到下面的窗口
</li>
<li>CTRL-W k 跳转到上面的窗口
</li>
<li>CTRL-W l 跳转到右边的窗口
</li>
<li>CTRL-W t 跳转到最顶上的窗口
</li>
<li>CTRL-W b 跳转到最底下的窗口
</li>
</ul>


<p>
如果你用的是垂直分割，CTRL-W K 会使当前窗口移动到上面并扩展到整屏的宽度。<br/>
还有三个相似的命令：<br/>
</p>
<ul>
<li>CTRL-W H 把当前窗口移到最左边
</li>
<li>CTRL-W J 把当前窗口移到最下边
</li>
<li>CTRL-W L 把当前窗口移到最右边
</li>
</ul>


<p>
最后我说一个更方便的，vim的窗口顺序为 <br/>
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup><col class="right" /><col class="right" /><col class="right" />
</colgroup>
<thead>
<tr><th scope="col" class="right">1</th><th scope="col" class="right">4</th><th scope="col" class="right">7</th></tr>
</thead>
<tbody>
<tr><td class="right">2</td><td class="right">5</td><td class="right">8</td></tr>
</tbody>
<tbody>
<tr><td class="right">3</td><td class="right">6</td><td class="right">9</td></tr>
</tbody>
</table>



<p>
所以可以用n+Ctrl+w+w,如果你要跳到8号窗口，你可以按8，再Ctrl+w+w 
</p></div>

</div>

<div id="outline-container-2-5" class="outline-3">
<h3 id="sec-2-5">移动与定位操作</h3>
<div class="outline-text-3" id="text-2-5">

<ul>
<li>0  移动到光标所在行的行首 <br/>
</li>
<li>$  移动到光标所在行的行尾 <br/>
</li>
<li>g0,g$:移动到光标所在行的行首和行尾，分行显示的行仅在子行内移动。 <br/>
</li>
<li>gg:移动到文档起始位置  <br/>
</li>
<li>G:移动到文档结束位置 <br/>
</li>
</ul>


</div>

</div>

<div id="outline-container-2-6" class="outline-3">
<h3 id="sec-2-6">大小写的切换</h3>
<div class="outline-text-3" id="text-2-6">

<ul>
<li>~          将光标下的字母改变大小写
</li>
<li>3~         将光标位置开始的3个字母改变其大小写
</li>
<li>g~~        改变当前行字母的大小写
</li>
<li>U          将可视模式下选择的字母全改成大写字母
</li>
<li>u          将可视模式下选择的字母全改成小写
</li>
<li>gUU        将当前行的字母改成大写
</li>
<li>3gUU       将从光标开始到下面3行字母改成大写
</li>
<li>guu       将当前行的字母全改成小写
</li>
<li>gUw       将光标下的单词改成大写。
</li>
<li>guw       将光标下的单词改成小写。
</li>
</ul>


</div>

</div>

<div id="outline-container-2-7" class="outline-3">
<h3 id="sec-2-7">寄存器</h3>
<div class="outline-text-3" id="text-2-7">

<ul>
<li>:registers 查看寄存器  <br/>
</li>
</ul>


</div>

<div id="outline-container-2-7-1" class="outline-4">
<h4 id="sec-2-7-1">寄存器分类</h4>
<div class="outline-text-4" id="text-2-7-1">

<ul>
<li>无名（unnamed）寄存器：""，缓存最后一次操作内容；
</li>
<li>数字（numbered）寄存器："0 ～ "9，缓存最近操作内容，复制与删除有别, "0寄存器缓存最近一次复制的内容，"1-"9缓存最近9次删除内容
</li>
<li>行内删除（small delete）寄存器："-，缓存行内删除内容；
</li>
<li>具名（named）寄存器："a ～ "z或"A - "0Z，指定时可用；
</li>
<li>只读（read-only）寄存器：":, "., "%, "#，分别缓存最近命令、最近插入文本、当前文件名、当前交替文件名；
</li>
<li>表达式（expression）寄存器："=，只读，用于执行表达式命令；
</li>
<li>选择及拖拽（selection and drop）寄存器："*, "+, "~，存取GUI选择文本，可用于与外部应用交互，使用前提为系统剪切板（clipboard）可用；
</li>
<li>黑洞（black hole）寄存器："<sub>，不缓存操作内容（干净删除）；</sub>
</li>
<li>模式寄存器（last search pattern）："/，缓存最近的搜索模式。
</li>
</ul>


<p>
默认将复制内容存到0号寄存器，删除内容存到1号寄存器 <br/>
</p><ul>
<li>：y+寄存器名称 可以将内容复制到相应寄存器  <br/>
</li>
<li>：p+寄存器名称  可以将相应寄存器的内容粘贴到下一行  <br/>
</li>
</ul>

</div>

</div>

<div id="outline-container-2-7-2" class="outline-4">
<h4 id="sec-2-7-2">基本操作（一般模式下）</h4>
<div class="outline-text-4" id="text-2-7-2">

<ul>
<li>"寄存器名y  “寄存器名d "寄存器名p  代表着复制 删除 和 粘贴 如： <br/>
</li>
<li>"ayy  就是复制当前行到 "a 字母寄存器中  <br/>
</li>
<li>"b3yy 复制当前行和下面2行 到 “b 字母寄存器 <br/>
</li>
<li>“ap 粘贴 “a 字母寄存器的内容  <br/>
</li>
<li>“cd2l 向右删除2个字符 并且把内容存到 字母寄存器 “c 中   <br/>
</li>
<li>“cp 粘贴 ”c 字母寄存器里面的内容 <br/>
</li>
<li>”d3dd 删除当前行和下面2行 并且把内容存到 字母寄存器 “d 中  <br/>
</li>
<li>“fdf.     删除当前位置到句号  并且把内容存到 字母寄存器 “f 中 <br/>
</li>
<li>“gd'c 删除当前位置到标记c位置 并且把内容存到 字母寄存器 “g 中 <br/>
</li>
</ul>




</br>
</br>

<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'hypblog'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</div>
</div>
</div>
</div>

<div id="postamble">


</div>
</body>
</html>
